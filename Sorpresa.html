<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para mi noviecita preciosa</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            background-color: #fff0f3;
            font-family: 'Quicksand', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            color: #590d22;
        }

        /* Corazón Inicial */
        #boton-inicio {
            text-align: center;
            cursor: pointer;
            z-index: 100;
        }

        #boton-inicio h2 {
            font-family: 'Dancing Script', cursive;
            color: #ff4d6d;
            margin-top: 10px;
        }

        .corazon-latido {
            font-size: 100px;
            color: #ff4d6d;
            animation: latido 1.2s infinite;
        }

        @keyframes latido {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }

        /* Contenedor Principal (Oculto al inicio) */
        .contenido {
            display: none;
            width: 100%;
            max-width: 1200px;
            height: 90vh;
            padding: 20px;
            box-sizing: border-box;
            position: relative;
        }

        /* Texto a la izquierda */
        .columna-texto {
            width: 45%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            font-family: 'Dancing Script', cursive;
            font-size: 1.6rem;
            color: #c9184a;
            padding-right: 20px;
            z-index: 10;
        }

        /* Árbol a la derecha */
        .columna-arbol {
            width: 55%;
            height: 100%;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }

        canvas {
            max-width: 100%;
            height: auto;
        }

        /* Etiqueta flotante */
        .etiqueta {
            position: absolute;
            right: 15%;
            top: 45%;
            background: white;
            padding: 8px 15px;
            border-radius: 20px;
            border: 2px solid #ff4d6d;
            color: #ff4d6d;
            font-weight: bold;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 1s;
        }

        /* Contador abajo */
        .contador {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            font-size: 1.2rem;
        }

        .tiempo {
            display: block;
            font-size: 2rem;
            font-weight: bold;
            color: #ff4d6d;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .contenido { flex-direction: column; }
            .columna-texto, .columna-arbol { width: 100%; height: 50%; }
            .columna-texto { font-size: 1.2rem; text-align: center; padding: 0; }
        }
    </style>
</head>
<body>

    <div id="boton-inicio">
        <div class="corazon-latido">❤️</div>
        <h2>Toca para ti, mi niña</h2>
    </div>

    <div class="contenido" id="interfaz">
        <div class="columna-texto" id="maquina-escribir"></div>
        
        <div class="columna-arbol">
            <div class="etiqueta" id="etiqueta-novia">Para mi noviecita preciosa ❤️</div>
            <canvas id="canvas-arbol"></canvas>
        </div>

        <div class="contador">
            Mi amor por ti comenzó hace...
            <div id="reloj" class="tiempo"></div>
        </div>
    </div>

    <script>
        const textoParaEscribir = "No importa dónde esté yo hoy, mi pensamiento y mi corazón están allá contigo.\n\nFeliz 14 de febrero a la mujer más bonita del mundo.\n\nQue la distancia solo sea un recordatorio de lo mucho que te quiero y de lo mucho que te necesito conmigo.\n\nTe amo, Bonita ❤️";

        function iniciar() {
            document.getElementById('boton-inicio').style.display = 'none';
            document.getElementById('interfaz').style.display = 'flex';
            
            escribirTexto();
            dibujarArbol();
            actualizarReloj();
            setInterval(actualizarReloj, 1000);
            
            setTimeout(() => {
                document.getElementById('etiqueta-novia').style.opacity = '1';
            }, 3000);
        }

        document.getElementById('boton-inicio').onclick = iniciar;

        // --- MAQUINA DE ESCRIBIR ---
        let indice = 0;
        function escribirTexto() {
            if (indice < textoParaEscribir.length) {
                let char = textoParaEscribir.charAt(indice);
                document.getElementById('maquina-escribir').innerHTML += char === "\n" ? "<br>" : char;
                indice++;
                setTimeout(escribirTexto, 60);
            }
        }

        // --- CONTADOR DE TIEMPO ---
        function actualizarReloj() {
            const fechaInicio = new Date("2023-02-11T00:00:00");
            const ahora = new Date();
            const diferencia = ahora - fechaInicio;

            const dias = Math.floor(diferencia / (1000 * 60 * 60 * 24));
            const horas = Math.floor((diferencia / (1000 * 60 * 60)) % 24);
            const minutos = Math.floor((diferencia / 1000 / 60) % 60);
            const segundos = Math.floor((diferencia / 1000) % 60);

            document.getElementById('reloj').innerText = `${dias}d ${horas}h ${minutos}m ${segundos}s`;
        }

        // --- ARBOL DE CORAZONES ---
        function dibujarArbol() {
            const canvas = document.getElementById('canvas-arbol');
            const ctx = canvas.getContext('2d');
            canvas.width = 500;
            canvas.height = 500;

            function corazon(x, y, radio, color) {
                ctx.save();
                ctx.beginPath();
                ctx.translate(x, y);
                ctx.rotate(Math.PI);
                ctx.moveTo(0, 0);
                ctx.bezierCurveTo(-radio / 2, radio / 2, -radio, -radio / 4, 0, -radio);
                ctx.bezierCurveTo(radio, -radio / 4, radio / 2, radio / 2, 0, 0);
                ctx.fillStyle = color;
                ctx.fill();
                ctx.restore();
            }

            let alturaTronco = 0;
            const crecerTronco = setInterval(() => {
                ctx.fillStyle = "#590d22";
                ctx.fillRect(245, 500 - alturaTronco, 10, 2);
                alturaTronco += 2;
                
                if (alturaTronco > 180) {
                    clearInterval(crecerTronco);
                    for (let i = 0; i < 150; i++) {
                        setTimeout(() => {
                            const angulo = Math.random() * Math.PI * 2;
                            const dist = Math.sqrt(Math.random()) * 120;
                            const cx = 250 + Math.cos(angulo) * dist;
                            const cy = 250 + Math.sin(angulo) * dist * 0.8;
                            const tam = 5 + Math.random() * 10;
                            const colores = ['#ff4d6d', '#ff758f', '#c9184a', '#ffb3c1'];
                            corazon(cx, cy, tam, colores[Math.floor(Math.random() * colores.length)]);
                        }, i * 20);
                    }
                }
            }, 10);
        }
    </script>
</body>
  </html>
