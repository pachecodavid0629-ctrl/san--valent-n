<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para mi niña preciosa</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            background-color: #fff0f3;
            font-family: 'Quicksand', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            color: #590d22;
        }

        #boton-inicio {
            text-align: center;
            cursor: pointer;
            z-index: 100;
        }

        .corazon-latido {
            font-size: 100px;
            color: #ff4d6d;
            animation: latido 1.2s infinite;
        }

        @keyframes latido {
            0% { transform: scale(1); }
            50% { transform: scale(1.15); }
            100% { transform: scale(1); }
        }

        .contenido {
            display: none;
            width: 100%;
            max-width: 1200px;
            height: 90vh;
            padding: 20px;
            position: relative;
            flex-direction: row;
            align-items: center;
        }

        .columna-texto {
            width: 45%;
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            color: #c9184a;
            padding: 20px;
        }

        .columna-arbol {
            width: 55%;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            position: relative;
        }

        canvas { max-width: 100%; }

        .contador {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            width: 100%;
        }

        .tiempo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #ff4d6d;
            display: block;
        }

        @media (max-width: 768px) {
            .contenido { flex-direction: column; overflow-y: auto; }
            .columna-texto, .columna-arbol { width: 100%; }
        }
    </style>
</head>
<body>

    <div id="boton-inicio">
        <div class="corazon-latido">❤️</div>
        <h2 style="font-family: 'Dancing Script'; color: #ff4d6d;">Tócame, bonita</h2>
    </div>

    <div class="contenido" id="interfaz">
        <div class="columna-texto" id="maquina-escribir"></div>
        <div class="columna-arbol">
            <canvas id="canvas-arbol"></canvas>
        </div>
        <div class="contador">
            Nuestro amor comenzó hace...
            <div id="reloj" class="tiempo"></div>
        </div>
    </div>

    <script>
        const texto = "No importa dónde esté yo hoy, mi pensamiento y mi corazón están allá contigo.\n\nFeliz 14 de febrero a la mujer más bonita del mundo.\n\nQue la distancia solo sea un recordatorio de lo mucho que te quiero y de lo mucho que te necesito conmigo.\n\nTe amo, Bonita ❤️";

        function iniciar() {
            document.getElementById('boton-inicio').style.display = 'none';
            document.getElementById('interfaz').style.display = 'flex';
            escribir();
            dibujar();
            setInterval(actualizarReloj, 1000);
        }

        document.getElementById('boton-inicio').onclick = iniciar;

        let i = 0;
        function escribir() {
            if (i < texto.length) {
                document.getElementById('maquina-escribir').innerHTML += texto.charAt(i) === "\n" ? "<br>" : texto.charAt(i);
                i++;
                setTimeout(escribir, 50);
            }
        }

        function actualizarReloj() {
            const inicio = new Date("2023-02-11T00:00:00");
            const ahora = new Date();
            const diff = ahora - inicio;
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const m = Math.floor((diff / 1000 / 60) % 60);
            const s = Math.floor((diff / 1000) % 60);
            document.getElementById('reloj').innerText = `${d}d ${h}h ${m}m ${s}s`;
        }

        function dibujar() {
            const cvs = document.getElementById('canvas-arbol');
            const ctx = cvs.getContext('2d');
            cvs.width = 500; cvs.height = 500;
            let h = 0;
            const t = setInterval(() => {
                ctx.fillStyle = "#590d22";
                ctx.fillRect(245, 500 - h, 10, 2);
                h += 2;
                if (h > 150) {
                    clearInterval(t);
                    for (let j = 0; j < 100; j++) {
                        setTimeout(() => {
                            ctx.fillStyle = "#ff4d6d";
                            const x = 250 + (Math.random() - 0.5) * 200;
                            const y = 200 + (Math.random() - 0.5) * 150;
                            ctx.beginPath();
                            ctx.arc(x, y, 5, 0, Math.PI * 2);
                            ctx.fill();
                        }, j * 30);
                    }
                }
            }, 10);
        }
    </script>
</body>
</html>
